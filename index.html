<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="Assets/style.css">
    <link rel="icon" href="Assets/icoo.ico" type="image/x-icon">
    <title>Encrypt/Decrypt</title>
</head>

<body>
    <div class="container">
        <div class="jumbotron jumbotron-modified">
            <h1 class="display-4">Hello, There!</h1>
            <p class="lead">This website allows you to encrypt and decrypt(<span class="span-modified">which is
                    encrypted using this website</span>) kind of data.</p>
            <hr class="my-4">
            <p>
                <span class="span-modified">*NOTE : </span>It ecrypts the data and it never keeps any backup in the
                cloud
                and it's an open source software which means that you can view the source code of this website. To view
                the source code <a href="https://github.com/ManojAvarur/Cloud-Encryption" target="_blank"
                    class="text-warning modified-text"> click here </a>
            </p>
            <hr class="my-4">
            <div class="container">
                <div class="row">

                    <form action="upload.php" method="post" enctype="multipart/form-data">

                        <div class="col-md-6 col-sm-12 add-line">
                            <h1 class="modified-h1">To Encrypt</h1>

                            <div class="center-al">
                                <input type="file" name="upload" id="file" onchange="Filevalidation()" required />
                            </div>

                            <div class="center-al">
                                <table class="table table-alter">
                                    <tbody>
                                        <tr>
                                            <td><input type="radio" name="passwordType" value="createNew" id="newPass"
                                                    onclick="newPassword()" checked='checked'></td>
                                            <td><label for="newPass">Genrate New Password</label></td>
                                        </tr>
                                        <tr class="no-bottom-border">
                                            <td><input type="radio" name="passwordType" value="useGiven" id="userPass"
                                                    onclick="userPassword()"></td>
                                            <td><label for="userPass">Personal Password</label></td>
                                        </tr>
                                        <tr class="no-bottom-border">
                                            <td></td>
                                            <td><input type="password" class="form-control-sm" name="userPassEntered"
                                                    id="userPassType" placeholder="Password" disabled> </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <div class="center-al" style="margin-top: 15px;">
                                <input type="submit" class="btn btn-primary btn-lg" name="submit" value="Encrypt">
                            </div>
                        </div>

                    </form>


                    <form action="upload.php" method="post" enctype="multipart/form-data">

                        <div class="col-md-6 col-sm-12 modified-sm-12 mov-down ">
                            <h1 class="modified-h1">To Decrypt</h1>

                            <div class="center-al">
                                <input type="file" name="upload" id="file" onchange="Filevalidation()" required />
                            </div>
                            <br>
                            <div class="center-al">
                                <label for="password" class="passu">Password : </label>
                                <input type="password" class="form-control-sm" name="decPass" id="password"
                                    placeholder="Password" required>
                            </div>
                            <br>
                            <div class="center-al" style="margin-top: 15px;">
                                <input type="submit" class="btn btn-primary btn-lg" name="submit" value="Decrypt">
                            </div>
                        </div>

                    </form>

                </div>
            </div>
            <hr class="my-4">
            <p style="text-align: center;">
                <span class="span-modified">*NOTE : </span> If the file is not downloaded after the computation the data
                will be deleted and it cannot be accessed by the user.
            </p>
        </div>
    </div>
</body>
<script>
    Filevalidation = () => {
        const fi = document.getElementById('file');
        if (fi.files[0].size > 41943040) {
            alert('File to large!');
            fi.value = "";
        }
    }

    newPassword = () => {
        document.getElementById('userPassType').disabled = true;
        document.getElementById('userPassType').required = false;
    }

    userPassword = () => {
        document.getElementById('userPassType').disabled = false;
        document.getElementById('userPassType').required = true;
    }

    check = () => {

       if(document.getElementById('userPass').checked){
            document.getElementById('userPassType').disabled = false;
            document.getElementById('userPassType').required = true;
       }        

    }

    window.onload = check;

</script>

</html>